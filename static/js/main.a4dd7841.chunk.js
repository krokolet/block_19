(this.webpackJsonpblock_19=this.webpackJsonpblock_19||[]).push([[0],{114:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(68),o=n.n(c),i=(n(90),n(20)),l=n(21),s=n(23),u=n(22),p=(n(91),n(140)),m=n(139),f=n(141),h=n(46),g=n.n(h),d=n(52),b=n(69),v=n(47),E=n.n(v),A=n(18),k=n(19),y=n(137),x=n(136),j=n(134);function O(){var e=Object(A.a)(["\n  font-size: 14px;\n  line-height: 21px;\n  color: #4a4a4a;\n"]);return O=function(){return e},e}function B(){var e=Object(A.a)(["\n  font-size: 12px;\n  line-height: 18px;\n  letter-spacing: 0.5px;\n  color: #a0b0b9;\n"]);return B=function(){return e},e}function C(){var e=Object(A.a)(["\n  font-size: 24px;\n  line-height: 24px;\n  color: #2196f3;\n  height: 100%;\n  display: flex;\n  align-items: center;\n"]);return C=function(){return e},e}function Q(){var e=Object(A.a)(["\n  padding: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  background: #ffffff;\n  margin-bottom: 20px;\n"]);return Q=function(){return e},e}var S=k.a.div(Q()),w=k.a.div(C()),T=k.a.div(B()),F=k.a.div(O()),D=function(e){return Object(y.a)(e,"HH:mm").toString()},H=function(e){return Object(x.a)(e,"yyyy-MM-dd'T'HH:mm:ss.SSSxxx",new Date)},M=function(e){return Math.trunc(e/60)},N=function(e){return Math.trunc(e%60)},R=function(e){switch(e){case 0:return"".concat(e," \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a");case 1:return"".concat(e," \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041a\u0410");default:return"".concat(e," \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041a\u0418")}},z=function(e){var t=e.price,n=e.carrier,a=e.segments,c=a[0],o=a[1];return r.a.createElement(S,null,r.a.createElement(m.a,{gutter:[0,20]},r.a.createElement(f.a,{span:16},r.a.createElement(w,null,t," \u0420")),r.a.createElement(f.a,{span:8},r.a.createElement("img",{src:"//pics.avs.io/99/36/".concat(n,".png"),alt:"company_logo"}))),r.a.createElement(m.a,{gutter:[0,10]},r.a.createElement(f.a,{span:8},r.a.createElement(T,null,c.origin," - ",c.destination),r.a.createElement(F,null,"".concat(D(H(c.date))," - ").concat(D(Object(j.a)(H(c.date),c.duration))))),r.a.createElement(f.a,{span:8},r.a.createElement(T,null,"\u0412 \u041f\u0423\u0422\u0418"),r.a.createElement(F,null,M(c.duration),"\u0447"," ",N(c.duration),"\u043c")),r.a.createElement(f.a,{span:8},r.a.createElement(T,null,R(c.stops.length)),r.a.createElement(F,null,c.stops.map((function(e){return"".concat(e," ")}))))),r.a.createElement(m.a,null,r.a.createElement(f.a,{span:8},r.a.createElement(T,null,o.origin," - ",o.destination),r.a.createElement(F,null,"".concat(D(H(o.date))," - ").concat(D(Object(j.a)(H(o.date),o.duration))))),r.a.createElement(f.a,{span:8},r.a.createElement(T,null,"\u0412 \u041f\u0423\u0422\u0418"),r.a.createElement(F,null,M(o.duration),"\u0447"," ",N(o.duration),"\u043c")),r.a.createElement(f.a,{span:8},r.a.createElement(T,null,R(o.stops.length)),r.a.createElement(F,null,o.stops.map((function(e){return"".concat(e," ")}))))))},I=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getTickets=function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.tickets,(r=new URL("https://front-test.beta.aviasales.ru/tickets")).searchParams.append("searchId","".concat(t)),e.prev=3,e.next=6,E.a.get(r);case 6:c=e.sent,o=c.data.stop,a.setState({tickets:[].concat(Object(d.a)(n),Object(d.a)(c.data.tickets))}),o||a.getTickets(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),a.getTickets(t);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),a.sortByPrice=function(e,t){return e.price-t.price},a.sortByTime=function(e,t){return e.segments[0].duration+e.segments[1].duration-(t.segments[0].duration+t.segments[1].duration)},a.countMaxStops=function(e){var t=e.segments[0].stops.length,n=e.segments[1].stops.length;return t>n?t:n},a.isCheckedFilter=function(e){var t=a.props.filter;return!!t.includes("all")||t.includes(e.toString())},a.renderTickets=function(){var e=a.state.tickets,t=a.props.sortBy;if(0!==e.length){var n=e.filter((function(e){return a.isCheckedFilter(a.countMaxStops(e))}));return"cost"===t?n.sort(a.sortByPrice):n.sort(a.sortByTime),n.slice(0,5).map((function(e){return z(e)}))}},a.state={tickets:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.a.get("https://front-test.beta.aviasales.ru/search").then((function(t){return e.getTickets(t.data.searchId)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderTickets())}}]),n}(r.a.Component),L=n(73),V=n.n(L),K=(n(114),n(138)),U=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){(0,e.props.changeFilter)(t)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.filter;return r.a.createElement(K.a.Group,{className:"myCheckbox",onChange:this.onChange,value:e},r.a.createElement("span",{className:"myCheckbox_title"},"\u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a"),r.a.createElement(K.a,{className:"myCheckbox_input",value:"all"},"\u0412\u0441\u0435"),r.a.createElement(K.a,{className:"myCheckbox_input",value:"0"},"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement(K.a,{className:"myCheckbox_input",value:"1"},"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"),r.a.createElement(K.a,{className:"myCheckbox_input",value:"2"},"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"),r.a.createElement(K.a,{className:"myCheckbox_input",value:"3"},"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"))}}]),n}(r.a.Component),W=n(80),Y=n.n(W);function Z(){var e=Object(A.a)(["\n  border-bottom-right-radius: 8px;\n  border-top-right-radius: 8px;\n  border-left: none;\n"]);return Z=function(){return e},e}function J(){var e=Object(A.a)(["\n  border-bottom-left-radius: 8px;\n  border-top-left-radius: 8px;\n  border-right: none;\n"]);return J=function(){return e},e}function P(){var e=Object(A.a)(["\n  width: 252px;\n  height: 50px;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  border: 1px solid #dfe5ec;\n  background-color: ",";\n  color: ",";\n  margin-bottom: 20px;\n  outline: none;\n  :hover {\n    cursor: url(","), pointer;\n  }\n"]);return P=function(){return e},e}var X=k.a.button(P(),(function(e){return e.active?"#2196F3":"#FFFFFF"}),(function(e){return e.active?"#FFFFFF":"#4A4A4A"}),Y.a),q=Object(k.a)(X)(J()),G=Object(k.a)(X)(Z()),_=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).changeSortBy=function(t){return function(n){n.preventDefault(),(0,e.props.changeSort)(t)}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.sortBy;return r.a.createElement(m.a,null,r.a.createElement(q,{onClick:this.changeSortBy("cost"),active:"cost"===e},"\u0421\u0410\u041c\u042b\u0419 \u0414\u0415\u0428\u0401\u0412\u042b\u0419"),r.a.createElement(G,{onClick:this.changeSortBy("speed"),active:"speed"===e},"\u0421\u0410\u041c\u042b\u0419 \u0411\u042b\u0421\u0422\u0420\u042b\u0419"))}}]),n}(r.a.Component),$=(n(118),p.a.Header),ee=p.a.Content,te=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).changeFilter=function(e){var t=a.state.filter;!e.includes("all")||t.includes("all")?a.setState({filter:e.filter((function(e){return"all"!==e}))}):a.setState({filter:["all"]})},a.sortBy=function(e){a.state.sortBy!==e&&a.setState({sortBy:e})},a.state={filter:["all"],sortBy:"cost"},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.filter,n=e.sortBy;return r.a.createElement(p.a,{className:"wrapper"},r.a.createElement($,{className:"header"},r.a.createElement("img",{src:"".concat(V.a),alt:"logo"})),r.a.createElement(ee,{className:"contentStyle"},r.a.createElement(m.a,{gutter:[20,20]},r.a.createElement(f.a,null,r.a.createElement(U,{filter:t,changeFilter:this.changeFilter})),r.a.createElement(f.a,null,r.a.createElement(_,{changeSort:this.sortBy,sortBy:n}),r.a.createElement(I,{filter:t,sortBy:n})))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,n){e.exports=n.p+"static/media/logo.c5fcf845.png"},80:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALOSURBVHgBrVbLalNRFD330Txs8zQ1BGvTQaHYgQSKQyXgWMik8/5B+wNC0Q9o8AdaHAu1zhwVRHBYnDgKJL5mgRgSTHITe1wr2afcPE1DNiz27jnn7rVf5zRKzSeWWlDsSYtaa7NnYB0fH/e1WoLQiZ3P513o1+QD3kUikRS0o5ZAYonze/F4XNdqNX1wcECSV8CKmpL13M7FQQB4uLW1pSmXl5ck+AiEhWThLEytQ8AmM6AwC9pYe0CSvb09kjg8i21LCOci5SGWJ4ya34X+fnV11SfJ5XIk+CZ4D1QEL+UbZxLRTT1lcgyJ3Wg0uPfh4uKiv4hyqfPz800QMrPn0FkC9gtsl4DC/v6+Lb6sadEzisdADagDn9HwfgaHh4faSKFQuLFPTk5Mj74AQTVp0oTR3t3dZXMrp6enulwuazbZ9OF/QjfpdHpVDQbEHiOQ0eSU/GZTfdPTJ5uHAIgxCxmUsQzIHAE+4cBQCYyYchk9+HSIICFBuv4ymdkPJhIJRvCMZZkUtXE4qinZbJZ/54DVUQIlKTGDKJABiibKeQgYDOwfwLoQDF9GKZErTeKhTeBrsVgcIjDTY7Qh4DAwToDv1R015c3iIm9wXLJ4Avw8OzvTs+To6IjO34bD4Q1fD8YJWCaZJEaQBDZc131KEn/TjVPebN5yZhEIBB5Bp6WHQTXjQbR907SOqPj25EmiBlNi8At4I3YRuM+gpMSu9t3k0TpZvO6IzC2VSsG1tbVgs9kMQgKdTodp24jW8jzPEPUQhNdqtdqwO4AHdIHraQRmjc7cVCq1Uq1WmRGnwg2FQna73eb+NRxrOO6RJJlMetFo1KtUKsa5nknAAbEsi+VyM5mM0+12HRA5Qtz/OBaL6Xq9/hemQU+0ViM1HxUN50oi6e7s7HhwztRZhj+iW2hoa3t7u4P/Df6yaHVLMe+7g944o1rspf0YWEj+AaqeKottQdnfAAAAAElFTkSuQmCC"},85:function(e,t,n){e.exports=n(132)},90:function(e,t,n){},91:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.a4dd7841.chunk.js.map